{"version":3,"sources":["components/common/formControl/loginFormControl/Textarea.js","components/hoc/withAuthRedirect.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Posts/MyPosts/MyPosts.module.css","components/Profile/Posts/Post/Post.module.css","assets/image/ProfileImage.svg","components/Profile/ProfileInfo/Status.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Posts/Post/Post.js","components/Profile/Posts/MyPosts/MyPostsForm.js","components/Profile/Posts/MyPosts/MyPosts.js","components/Profile/Posts/MyPosts/MyPostsContainer.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js"],"names":["Textarea","input","meta","props","touched","error","hasError","className","classes","formControl","undefined","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","module","exports","Status","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","type","autoFocus","onBlur","updateStatus","value","onChange","target","ProfileInfo","profile","content","descriptionBlock","avatar","src","photos","large","imageProfile","alt","fullName","Loader","Post","message","likesCount","item","maxLength10","maxLength","MyPostsReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","name","component","validate","required","MyPosts","memo","postsElements","posts","map","p","id","values","addPostClick","postText","postsBlock","MyPostsContainer","profilePage","dispatch","payload","addPostCreator","Profile","ProfileContainer","userId","match","params","authorizedUserId","history","push","getProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/4.8c1e2c5e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport classes from './Textarea.module.css';\r\n\r\nconst Textarea = ({input, meta, ...props}) => {\r\n    const {touched, error} = meta;\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\r\n            <div>\r\n                <textarea {...input} {...props}/>\r\n            </div>\r\n            <div>\r\n                {hasError ? <span>{error}</span> : undefined}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Textarea;","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            return this.props.isAuth ? <Component {...this.props}/> : <Redirect to={`/login`}/>\r\n        }\r\n    }\r\n    let ConnectedAuthRedirect = connect(mapStateToProps)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirect;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileInfo_content__2enq_\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3qHKf\",\"avatar\":\"ProfileInfo_avatar__2GDbV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1XBys\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__VWS89\"};","export default __webpack_public_path__ + \"static/media/ProfileImage.ca1a6ad9.svg\";","import React, {useEffect, useState} from \"react\";\r\n\r\nconst Status = (props) => {\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState('');\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const onChangeStatus = ({target: {value}}) => {\r\n        setStatus(value)\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!editMode && <div onDoubleClick={activateEditMode}>\r\n                <span>{!props.status ? `no status` : props.status}</span>\r\n            </div>}\r\n\r\n            {editMode &&\r\n            <div>\r\n                <input type=\"text\" autoFocus={true} onBlur={deactivateEditMode} value={status}\r\n                       onChange={onChangeStatus}/>\r\n            </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Status;","import React from \"react\";\r\nimport {Loader} from \"../../common/Loader/Loader\";\r\nimport classes from './ProfileInfo.module.css';\r\nimport imageProfile from '../../../assets/image/ProfileImage.svg'\r\nimport Status from \"./Status\";\r\n\r\nconst ProfileInfo = (props) => {\r\n    const {profile} = props;\r\n    return (\r\n        !profile ? <Loader/> :\r\n            <div>\r\n                <div className={classes.content}>\r\n\r\n                </div>\r\n                <div className={classes.descriptionBlock}>\r\n                    <div>\r\n                        <img className={classes.avatar}\r\n                             src={!profile.photos.large ? imageProfile : profile.photos.large}\r\n                             alt=\"Avatar\"/>\r\n                    </div>\r\n                    <div>\r\n                        <h3>{props.profile.fullName}</h3>\r\n                    </div>\r\n                    <div>\r\n                        <Status status={props.status} updateStatus={props.updateStatus}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","import React from \"react\";\r\nimport classes from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    let {message,likesCount} = props;\r\n    return (\r\n        <div>\r\n            <div className={classes.item}>\r\n                <img\r\n                    src=\"https://img.favpng.com/16/25/22/person-outline-computer-icons-people-png-favpng-uzkSybbSJsQTEsFvqNLGRHyts.jpg\"\r\n                    alt=\"\"/>\r\n                {message}\r\n                <div>\r\n                    <span>Likes: {likesCount}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Post;","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLength, required} from \"../../../../utils/validators/validators\";\r\nimport Textarea from \"../../../common/formControl/loginFormControl/Textarea\";\r\n\r\n\r\nconst maxLength10 = maxLength(10);\r\nconst MyPostsForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name={`postText`} component={Textarea} validate={[required, maxLength10]}/>\r\n            </div>\r\n            <button>Add post</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport const MyPostsReduxForm = reduxForm({\r\n    form: `postForm`\r\n})(MyPostsForm);\r\n","import React, {memo} from \"react\";\r\nimport classes from './MyPosts.module.css';\r\nimport Post from \"../Post/Post\";\r\nimport {MyPostsReduxForm} from \"./MyPostsForm\";\r\n\r\nconst MyPosts = memo((props) => {\r\n    const postsElements = props.posts.map(p => <Post message={p.message} key={p.id} likesCount={p.likesCount}/>);\r\n\r\n    const addNewPost = (values) => {\r\n        props.addPostClick(values.postText);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3>My posts</h3>\r\n            <MyPostsReduxForm onSubmit={addNewPost}/>\r\n            <div className={classes.postsBlock}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default MyPosts;","import MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {addPostCreator} from \"../../../../redux/reducers/profile-reducer\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n    };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPostClick: (payload) => {\r\n            dispatch(addPostCreator(payload))\r\n        }\r\n    };\r\n};\r\n\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./Posts/MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {getProfile, getStatus, updateStatus} from \"../../redux/reducers/profile-reducer\";\r\nimport Profile from \"./Profile\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let {match: {params: {userId}}} = this.props;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n        }\r\n        if (!userId) {\r\n            this.props.history.push(`/login`)\r\n        }\r\n        this.props.getProfile(userId);\r\n        this.props.getStatus(userId);\r\n\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Profile profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        getProfile,\r\n        getStatus,\r\n        updateStatus\r\n    }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}